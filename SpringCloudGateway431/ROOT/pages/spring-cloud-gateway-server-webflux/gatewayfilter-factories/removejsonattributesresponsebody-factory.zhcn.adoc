[[removejsonattributesresponsebody-gatewayfilter-factory]]
= `RemoveJsonAttributesResponseBody` `GatewayFilter` 工厂

`RemoveJsonAttributesResponseBody` `GatewayFilter` 工厂接收一个要搜索的 `属性名称` 集合，其参数列表中的最后一个参数是可选的布尔值，用于指定是否仅在根级别删除这些属性（如果该参数未提供，则默认为 `false`，即仅在根级别删除）或递归地删除（设置为 `true`）。  
该工厂提供了一种便捷的方法，通过从 JSON 响应体内容中删除指定属性来实现内容转换。

以下示例配置了一个 `RemoveJsonAttributesResponseBody` `GatewayFilter`：

.application.yml
[source,yaml]
----
spring:
  cloud:
    gateway:
      routes:
      - id: removejsonattributes_route
        uri: https://example.org
        filters:
        - RemoveJsonAttributesResponseBody=id,color
----

此配置会从 JSON 响应体内容的根级别中删除 "id" 和 "color" 属性。

以下示例配置了一个使用可选最后一个参数的 `RemoveJsonAttributesResponseBody` `GatewayFilter`：

.application.yml
[source,yaml]
----
spring:
  cloud:
    gateway:
      routes:
      - id: removejsonattributes_recursively_route
        uri: https://example.org
        predicates:
        - Path=/red/{segment}
        filters:
        - RemoveJsonAttributesResponseBody=id,color,true
----

此配置会从 JSON 响应体内容的任意嵌套层级中递归删除 "id" 和 "color" 属性。