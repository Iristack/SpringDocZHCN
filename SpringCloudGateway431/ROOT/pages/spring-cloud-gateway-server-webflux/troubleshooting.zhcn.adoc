[[troubleshooting]]
= 故障排除
:page-section-summary-toc: 1

本节介绍使用 Spring Cloud Gateway 时可能遇到的常见问题。

[[log-levels]]
== 日志级别

以下日志记录器在 `DEBUG` 和 `TRACE` 级别下可能包含有价值的故障排查信息：

- `org.springframework.cloud.gateway`
- `org.springframework.http.server.reactive`
- `org.springframework.web.reactive`
- `org.springframework.boot.autoconfigure.web`
- `reactor.netty`
- `redisratelimiter`

[[wiretap]]
== Wiretap（网络流量监听）

Reactor Netty 的 `HttpClient` 和 `HttpServer` 可以启用 wiretap 功能。  
当与将 `reactor.netty` 的日志级别设置为 `DEBUG` 或 `TRACE` 结合使用时，可以记录通过网络传输的请求和响应的详细信息，例如头部和消息体。  
要启用 wiretap，请分别设置 `spring.cloud.gateway.httpserver.wiretap=true`（用于 `HttpServer`）或 `spring.cloud.gateway.httpclient.wiretap=true`（用于 `HttpClient`）。