// FIXME: 这可能与获取 Spring Security 及其构件信息一起更有意义

[[modules]]
= 项目模块与依赖
在 Spring Security 3.0 中，代码库被划分为多个独立的 JAR 文件，以更清晰地区分不同的功能区域和第三方依赖。  
如果你使用 Maven 构建项目，这些就是你需要添加到 `pom.xml` 中的模块。  
即使你不使用 Maven，我们也建议你查看 `pom.xml` 文件，以便了解所需的第三方依赖及其版本。  
另一个好方法是检查示例应用程序中包含的库。

本节提供了 Spring Security 各模块及其在运行时所需附加依赖的参考说明。  
我们不包括仅用于构建或测试 Spring Security 本身的依赖项，也不包括由外部依赖引入的传递性依赖。

Spring 所需的版本可在项目官网上找到，因此在以下示例中省略了 Spring 依赖的具体版本。  
请注意，示例中标记为“可选（optional）”的一些依赖项，对于 Spring 应用程序中的其他非安全功能可能仍然是必需的。  
此外，标记为“可选”的依赖项在项目的 Maven POM 文件中可能并未实际标记为可选，因为它们在大多数应用中都会被使用。  
这里的“可选”仅表示：除非你使用特定功能，否则不需要这些依赖。

当某个模块依赖于另一个 Spring Security 模块时，其所依赖模块的非可选依赖也被视为必需，不会单独列出。

[[spring-security-core]]
== 核心模块 -- `spring-security-core.jar`
该模块包含核心的身份验证和访问控制类与接口、远程调用支持以及基本的用户配置 API。  
任何使用 Spring Security 的应用程序都必须包含此模块。  
它支持独立应用、远程客户端、方法级（服务层）安全性和基于 JDBC 的用户数据配置。  
主要包含以下顶级包：

* `org.springframework.security.core`
* `org.springframework.security.access`
* `org.springframework.security.authentication`
* `org.springframework.security.provisioning`

.核心依赖
|===
| 依赖 | 版本 | 描述

| ehcache
| 1.6.2
| 若使用基于 Ehcache 的用户缓存实现，则需要（可选）。

| spring-aop
|
| 方法安全性基于 Spring AOP

| spring-beans
|
| Spring 配置所必需

| spring-expression
|
| 若使用基于表达式的方法安全，则需要（可选）

| spring-jdbc
|
| 若使用数据库存储用户数据，则需要（可选）

| spring-tx
|
| 若使用数据库存储用户数据，则需要（可选）

| aspectjrt
| 1.6.10
| 若使用 AspectJ 支持，则需要（可选）

| jsr250-api
| 1.0
| 若使用 JSR-250 方法安全注解，则需要（可选）
|===


[[spring-security-remoting]]
== 远程调用 -- `spring-security-remoting.jar`
该模块提供与 Spring Remoting 的集成支持。  
除非你正在编写使用 Spring Remoting 的远程客户端，否则不需要此模块。  
主包为 `org.springframework.security.remoting`。

.远程调用依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-web
|
| 使用 HTTP 远程调用支持的客户端所必需
|===

[[spring-security-web]]
== Web 模块 -- `spring-security-web.jar`
该模块包含过滤器及相关 Web 安全基础设施代码。  
所有涉及 Servlet API 依赖的内容都在此模块中。  
如果你需要 Spring Security 的 Web 身份验证服务或基于 URL 的访问控制，则必须引入此模块。  
主包为 `org.springframework.security.web`。

.Web 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-web
|
| 使用 HTTP 远程调用支持的客户端所必需

| spring-jdbc
|
| 若使用基于 JDBC 的持久化“记住我”令牌仓库，则需要（可选）

| spring-tx
|
| “记住我”持久化令牌仓库实现所必需（可选）
|===

[[spring-security-config]]
== 配置模块 -- `spring-security-config.jar`
该模块包含安全命名空间解析代码和 Java 配置代码。  
如果你使用 Spring Security 的 XML 命名空间进行配置，或使用其 Java 配置支持，则需要此模块。  
主包为 `org.springframework.security.config`。  
这些类均不打算在应用程序中直接使用。

.Config 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-security-web
|
| 若使用任何与 Web 相关的命名空间配置，则需要（可选）

| spring-security-ldap
|
| 若使用 LDAP 命名空间选项，则需要（可选）

| aspectjweaver
| 1.6.10
| 若使用 protect-pointcut 命名空间语法，则需要（可选）
|===

[[spring-security-ldap]]
== LDAP 模块 -- `spring-security-ldap.jar`
该模块提供 LDAP 身份验证和用户条目管理功能。  
若你需要使用 LDAP 认证或管理 LDAP 用户条目，则必须引入此模块。  
顶级包为 `org.springframework.security.ldap`。

.LDAP 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-ldap-core
| 1.3.0
| LDAP 支持基于 Spring LDAP

| spring-tx
|
| 需要数据异常类

| apache-ds
| 1.5.5
| 若使用嵌入式 LDAP 服务器则需要（可选）。如果使用 `apache-ds`，还需引入 `apacheds-core`、`apacheds-core-entry`、`apacheds-protocol-shared`、`apacheds-protocol-ldap` 和 `apacheds-server-jndi` 模块。

| shared-ldap
| 0.9.15
| 若使用嵌入式 LDAP 服务器则需要（可选）

| ldapsdk
| 4.1
| Mozilla LdapSDK。例如，在使用 OpenLDAP 并启用密码策略功能时，用于解码 LDAP 密码策略控制。
|===

[[spring-security-oauth2-core]]
== OAuth 2.0 核心模块 -- `spring-security-oauth2-core.jar`
`spring-security-oauth2-core.jar` 包含对 OAuth 2.0 授权框架和 OpenID Connect Core 1.0 提供支持的核心类和接口。  
任何使用 OAuth 2.0 或 OpenID Connect Core 1.0 的应用（如客户端、资源服务器或授权服务器）都需要此模块。  
顶级包为 `org.springframework.security.oauth2.core`。

[[spring-security-oauth2-client]]
== OAuth 2.0 客户端模块 -- `spring-security-oauth2-client.jar`
`spring-security-oauth2-client.jar` 包含 Spring Security 对 OAuth 2.0 授权框架和 OpenID Connect Core 1.0 的客户端支持。  
任何使用 OAuth 2.0 或 OpenID Connect Core 1.0 的应用（如客户端、资源服务器或授权服务器）都需要此模块。  
顶级包为 `org.springframework.security.oauth2.client`。

[[spring-security-oauth2-jose]]
== OAuth 2.0 JOSE 模块 -- `spring-security-oauth2-jose.jar`
`spring-security-oauth2-jose.jar` 包含 Spring Security 对 JOSE（JavaScript Object Signing and Encryption）框架的支持。  
JOSE 框架旨在提供一种在各方之间安全传输声明的方法。  
它由一系列规范组成：

* JSON Web Token (JWT)
* JSON Web Signature (JWS)
* JSON Web Encryption (JWE)
* JSON Web Key (JWK)

包含以下顶级包：

* `org.springframework.security.oauth2.jwt`
* `org.springframework.security.oauth2.jose`

[[spring-security-oauth2-resource-server]]
== OAuth 2.0 资源服务器模块 -- `spring-security-oauth2-resource-server.jar`
`spring-security-oauth2-resource-server.jar` 包含 Spring Security 对 OAuth 2.0 资源服务器的支持。  
用于通过 OAuth 2.0 Bearer Token 来保护 API。  
顶级包为 `org.springframework.security.oauth2.server.resource`。

[[spring-security-acl]]
== ACL 模块 -- `spring-security-acl.jar`
该模块包含一个专用的领域对象 ACL 实现。  
用于将安全性应用于应用程序内的特定领域对象实例。  
顶级包为 `org.springframework.security.acls`。

.ACL 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| ehcache
| 1.6.2
| 若使用基于 Ehcache 的 ACL 缓存实现，则需要（若自定义实现则可选）

| spring-jdbc
|
| 若使用默认的基于 JDBC 的 AclService，则需要（若自行实现则可选）

| spring-tx
|
| 若使用默认的基于 JDBC 的 AclService，则需要（若自行实现则可选）
|===

[[spring-security-cas]]
== CAS 模块 -- `spring-security-cas.jar`
该模块包含 Spring Security 与 CAS 客户端的集成支持。  
如果你想使用 Spring Security 的 Web 身份验证并与 CAS 单点登录服务器集成，则应使用此模块。  
顶级包为 `org.springframework.security.cas`。

.CAS 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-security-web
|
|

| cas-client-core
| 3.1.12
| JA-SIG CAS 客户端。这是 Spring Security 集成的基础

| ehcache
| 1.6.2
| 若使用基于 Ehcache 的票据缓存，则需要（可选）
|===

[[spring-security-test]]
== 测试模块 -- `spring-security-test.jar`
该模块提供对 Spring Security 应用进行测试的支持。

[[spring-security-taglibs]]
== 标签库模块 -- `spring-security-taglibs.jar`
提供 Spring Security 的 JSP 标签实现。

.Taglib 依赖
|===
| 依赖 | 版本 | 描述

| spring-security-core
|
|

| spring-security-web
|
|

| spring-security-acl
|
| 若使用 `accesscontrollist` 标签或带有 ACL 的 `hasPermission()` 表达式，则需要（可选）

| spring-expression
|
| 若在标签的访问约束中使用 SPEL 表达式，则需要
|===